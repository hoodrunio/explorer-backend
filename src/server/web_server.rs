use actix_web::{web, App, HttpServer};
use web::Data;

use super::routes::*;
use super::state::ServerState;

/// Starts the web server.
pub async fn start_web_server() -> std::io::Result<()> {
    HttpServer::new(move || {
        App::new()
            .app_data(Data::new(ServerState::new()))
            // Common services.
            .service(rest::block_by_height_axelar)
            .service(rest::block_by_hash_axelar)
            .service(rest::blockchain_by_heights_axelar)
            .service(rest::tx_by_hash_axelar)
            .service(rest::txs_on_latest_block_axelar)
            .service(rest::txs_by_height_axelar)
            .service(rest::txs_of_sender_axelar)
            .service(rest::txs_of_recipient_axelar)
            .service(rest::staking_params_axelar)
            .service(rest::tally_params_axelar)
            .service(rest::voting_params_axelar)
            .service(rest::deposit_params_axelar)
            .service(rest::slashing_params_axelar)
            .service(rest::validator_axelar)
            .service(rest::validator_commission_axelar)
            .service(rest::validator_rewards_axelar)
            .service(rest::validators_bonded_axelar)
            .service(rest::validators_unbonded_axelar)
            .service(rest::validators_unbonding_axelar)
            .service(rest::validators_unspecified_axelar)
            .service(rest::validators_of_delegator_axelar)
            .service(rest::validator_delegator_pair_axelar)
            .service(rest::delegator_rewards_axelar)
            .service(rest::delegator_withdraw_address_axelar)
            .service(rest::supply_axelar)
            .service(rest::supplies_axelar)
            .service(rest::inflation_axelar)
            .service(rest::proposals_passed_axelar)
            .service(rest::proposals_voting_axelar)
            .service(rest::proposals_failed_axelar)
            .service(rest::proposals_rejected_axelar)
            .service(rest::proposals_unspecified_axelar)
            .service(rest::proposal_deposits_axelar)
            .service(rest::proposal_details_axelar)
            .service(rest::proposal_tally_axelar)
            .service(rest::proposal_votes_axelar)
            .service(rest::proposal_vote_axelar)
            .service(rest::proposal_deposit_axelar)
            .service(rest::delegations_axelar)
            .service(rest::unbonding_delegations_axelar)
            .service(rest::redelegations_axelar)
            .service(rest::staking_pool_axelar)
            .service(rest::signing_axelar)
            .service(rest::block_by_height_celestia)
            .service(rest::block_by_hash_celestia)
            .service(rest::blockchain_by_heights_celestia)
            .service(rest::tx_by_hash_celestia)
            .service(rest::txs_on_latest_block_celestia)
            .service(rest::txs_by_height_celestia)
            .service(rest::txs_of_sender_celestia)
            .service(rest::txs_of_recipient_celestia)
            .service(rest::staking_params_celestia)
            .service(rest::tally_params_celestia)
            .service(rest::voting_params_celestia)
            .service(rest::deposit_params_celestia)
            .service(rest::slashing_params_celestia)
            .service(rest::validator_celestia)
            .service(rest::validator_commission_celestia)
            .service(rest::validator_rewards_celestia)
            .service(rest::validators_bonded_celestia)
            .service(rest::validators_unbonded_celestia)
            .service(rest::validators_unbonding_celestia)
            .service(rest::validators_unspecified_celestia)
            .service(rest::validators_of_delegator_celestia)
            .service(rest::validator_delegator_pair_celestia)
            .service(rest::delegator_rewards_celestia)
            .service(rest::delegator_withdraw_address_celestia)
            .service(rest::supply_celestia)
            .service(rest::supplies_celestia)
            .service(rest::inflation_celestia)
            .service(rest::proposals_passed_celestia)
            .service(rest::proposals_voting_celestia)
            .service(rest::proposals_failed_celestia)
            .service(rest::proposals_rejected_celestia)
            .service(rest::proposals_unspecified_celestia)
            .service(rest::proposal_deposits_celestia)
            .service(rest::proposal_details_celestia)
            .service(rest::proposal_tally_celestia)
            .service(rest::proposal_votes_celestia)
            .service(rest::proposal_vote_celestia)
            .service(rest::proposal_deposit_celestia)
            .service(rest::delegations_celestia)
            .service(rest::unbonding_delegations_celestia)
            .service(rest::redelegations_celestia)
            .service(rest::staking_pool_celestia)
            .service(rest::signing_celestia)
            .service(rest::block_by_height_cosmos)
            .service(rest::block_by_hash_cosmos)
            .service(rest::blockchain_by_heights_cosmos)
            .service(rest::tx_by_hash_cosmos)
            .service(rest::txs_on_latest_block_cosmos)
            .service(rest::txs_by_height_cosmos)
            .service(rest::txs_of_sender_cosmos)
            .service(rest::txs_of_recipient_cosmos)
            .service(rest::staking_params_cosmos)
            .service(rest::tally_params_cosmos)
            .service(rest::voting_params_cosmos)
            .service(rest::deposit_params_cosmos)
            .service(rest::slashing_params_cosmos)
            .service(rest::validator_cosmos)
            .service(rest::validator_commission_cosmos)
            .service(rest::validator_rewards_cosmos)
            .service(rest::validators_bonded_cosmos)
            .service(rest::validators_unbonded_cosmos)
            .service(rest::validators_unbonding_cosmos)
            .service(rest::validators_unspecified_cosmos)
            .service(rest::validators_of_delegator_cosmos)
            .service(rest::validator_delegator_pair_cosmos)
            .service(rest::delegator_rewards_cosmos)
            .service(rest::delegator_withdraw_address_cosmos)
            .service(rest::supply_cosmos)
            .service(rest::supplies_cosmos)
            .service(rest::inflation_cosmos)
            .service(rest::proposals_passed_cosmos)
            .service(rest::proposals_voting_cosmos)
            .service(rest::proposals_failed_cosmos)
            .service(rest::proposals_rejected_cosmos)
            .service(rest::proposals_unspecified_cosmos)
            .service(rest::proposal_deposits_cosmos)
            .service(rest::proposal_details_cosmos)
            .service(rest::proposal_tally_cosmos)
            .service(rest::proposal_votes_cosmos)
            .service(rest::proposal_vote_cosmos)
            .service(rest::proposal_deposit_cosmos)
            .service(rest::delegations_cosmos)
            .service(rest::unbonding_delegations_cosmos)
            .service(rest::redelegations_cosmos)
            .service(rest::staking_pool_cosmos)
            .service(rest::signing_cosmos)
            .service(rest::block_by_height_evmos)
            .service(rest::block_by_hash_evmos)
            .service(rest::blockchain_by_heights_evmos)
            .service(rest::tx_by_hash_evmos)
            .service(rest::txs_on_latest_block_evmos)
            .service(rest::txs_by_height_evmos)
            .service(rest::txs_of_sender_evmos)
            .service(rest::txs_of_recipient_evmos)
            .service(rest::staking_params_evmos)
            .service(rest::tally_params_evmos)
            .service(rest::voting_params_evmos)
            .service(rest::deposit_params_evmos)
            .service(rest::slashing_params_evmos)
            .service(rest::validator_evmos)
            .service(rest::validator_commission_evmos)
            .service(rest::validator_rewards_evmos)
            .service(rest::validators_bonded_evmos)
            .service(rest::validators_unbonded_evmos)
            .service(rest::validators_unbonding_evmos)
            .service(rest::validators_unspecified_evmos)
            .service(rest::validators_of_delegator_evmos)
            .service(rest::validator_delegator_pair_evmos)
            .service(rest::delegator_rewards_evmos)
            .service(rest::delegator_withdraw_address_evmos)
            .service(rest::supply_evmos)
            .service(rest::supplies_evmos)
            .service(rest::inflation_evmos)
            .service(rest::proposals_passed_evmos)
            .service(rest::proposals_voting_evmos)
            .service(rest::proposals_failed_evmos)
            .service(rest::proposals_rejected_evmos)
            .service(rest::proposals_unspecified_evmos)
            .service(rest::proposal_deposits_evmos)
            .service(rest::proposal_details_evmos)
            .service(rest::proposal_tally_evmos)
            .service(rest::proposal_votes_evmos)
            .service(rest::proposal_vote_evmos)
            .service(rest::proposal_deposit_evmos)
            .service(rest::delegations_evmos)
            .service(rest::unbonding_delegations_evmos)
            .service(rest::redelegations_evmos)
            .service(rest::staking_pool_evmos)
            .service(rest::signing_evmos)
            .service(rest::block_by_height_kyve)
            .service(rest::block_by_hash_kyve)
            .service(rest::blockchain_by_heights_kyve)
            .service(rest::tx_by_hash_kyve)
            .service(rest::txs_on_latest_block_kyve)
            .service(rest::txs_by_height_kyve)
            .service(rest::txs_of_sender_kyve)
            .service(rest::txs_of_recipient_kyve)
            .service(rest::staking_params_kyve)
            .service(rest::tally_params_kyve)
            .service(rest::voting_params_kyve)
            .service(rest::deposit_params_kyve)
            .service(rest::slashing_params_kyve)
            .service(rest::validator_kyve)
            .service(rest::validator_commission_kyve)
            .service(rest::validator_rewards_kyve)
            .service(rest::validators_bonded_kyve)
            .service(rest::validators_unbonded_kyve)
            .service(rest::validators_unbonding_kyve)
            .service(rest::validators_unspecified_kyve)
            .service(rest::validators_of_delegator_kyve)
            .service(rest::validator_delegator_pair_kyve)
            .service(rest::delegator_rewards_kyve)
            .service(rest::delegator_withdraw_address_kyve)
            .service(rest::supply_kyve)
            .service(rest::supplies_kyve)
            .service(rest::inflation_kyve)
            .service(rest::proposals_passed_kyve)
            .service(rest::proposals_voting_kyve)
            .service(rest::proposals_failed_kyve)
            .service(rest::proposals_rejected_kyve)
            .service(rest::proposals_unspecified_kyve)
            .service(rest::proposal_deposits_kyve)
            .service(rest::proposal_details_kyve)
            .service(rest::proposal_tally_kyve)
            .service(rest::proposal_votes_kyve)
            .service(rest::proposal_vote_kyve)
            .service(rest::proposal_deposit_kyve)
            .service(rest::delegations_kyve)
            .service(rest::unbonding_delegations_kyve)
            .service(rest::redelegations_kyve)
            .service(rest::staking_pool_kyve)
            .service(rest::signing_kyve)
            .service(rest::block_by_height_osmosis)
            .service(rest::block_by_hash_osmosis)
            .service(rest::blockchain_by_heights_osmosis)
            .service(rest::tx_by_hash_osmosis)
            .service(rest::txs_on_latest_block_osmosis)
            .service(rest::txs_by_height_osmosis)
            .service(rest::txs_of_sender_osmosis)
            .service(rest::txs_of_recipient_osmosis)
            .service(rest::staking_params_osmosis)
            .service(rest::tally_params_osmosis)
            .service(rest::voting_params_osmosis)
            .service(rest::deposit_params_osmosis)
            .service(rest::slashing_params_osmosis)
            .service(rest::validator_osmosis)
            .service(rest::validator_commission_osmosis)
            .service(rest::validator_rewards_osmosis)
            .service(rest::validators_bonded_osmosis)
            .service(rest::validators_unbonded_osmosis)
            .service(rest::validators_unbonding_osmosis)
            .service(rest::validators_unspecified_osmosis)
            .service(rest::validators_of_delegator_osmosis)
            .service(rest::validator_delegator_pair_osmosis)
            .service(rest::delegator_rewards_osmosis)
            .service(rest::delegator_withdraw_address_osmosis)
            .service(rest::supply_osmosis)
            .service(rest::supplies_osmosis)
            .service(rest::inflation_osmosis)
            .service(rest::proposals_passed_osmosis)
            .service(rest::proposals_voting_osmosis)
            .service(rest::proposals_failed_osmosis)
            .service(rest::proposals_rejected_osmosis)
            .service(rest::proposals_unspecified_osmosis)
            .service(rest::proposal_deposits_osmosis)
            .service(rest::proposal_details_osmosis)
            .service(rest::proposal_tally_osmosis)
            .service(rest::proposal_votes_osmosis)
            .service(rest::proposal_vote_osmosis)
            .service(rest::proposal_deposit_osmosis)
            .service(rest::delegations_osmosis)
            .service(rest::unbonding_delegations_osmosis)
            .service(rest::redelegations_osmosis)
            .service(rest::staking_pool_osmosis)
            .service(rest::signing_osmosis)
            .service(rest::block_by_height_secret)
            .service(rest::block_by_hash_secret)
            .service(rest::blockchain_by_heights_secret)
            .service(rest::tx_by_hash_secret)
            .service(rest::txs_on_latest_block_secret)
            .service(rest::txs_by_height_secret)
            .service(rest::txs_of_sender_secret)
            .service(rest::txs_of_recipient_secret)
            .service(rest::staking_params_secret)
            .service(rest::tally_params_secret)
            .service(rest::voting_params_secret)
            .service(rest::deposit_params_secret)
            .service(rest::slashing_params_secret)
            .service(rest::validator_secret)
            .service(rest::validator_commission_secret)
            .service(rest::validator_rewards_secret)
            .service(rest::validators_bonded_secret)
            .service(rest::validators_unbonded_secret)
            .service(rest::validators_unbonding_secret)
            .service(rest::validators_unspecified_secret)
            .service(rest::validators_of_delegator_secret)
            .service(rest::validator_delegator_pair_secret)
            .service(rest::delegator_rewards_secret)
            .service(rest::delegator_withdraw_address_secret)
            .service(rest::supply_secret)
            .service(rest::supplies_secret)
            .service(rest::inflation_secret)
            .service(rest::proposals_passed_secret)
            .service(rest::proposals_voting_secret)
            .service(rest::proposals_failed_secret)
            .service(rest::proposals_rejected_secret)
            .service(rest::proposals_unspecified_secret)
            .service(rest::proposal_deposits_secret)
            .service(rest::proposal_details_secret)
            .service(rest::proposal_tally_secret)
            .service(rest::proposal_votes_secret)
            .service(rest::proposal_vote_secret)
            .service(rest::proposal_deposit_secret)
            .service(rest::delegations_secret)
            .service(rest::unbonding_delegations_secret)
            .service(rest::redelegations_secret)
            .service(rest::staking_pool_secret)
            .service(rest::signing_secret)
    })
    .bind(("127.0.0.1", 8080))
    .unwrap()
    .run()
    .await
}
